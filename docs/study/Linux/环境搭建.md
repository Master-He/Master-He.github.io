

**基于**Centos7系统

## yum 命令

```shell
# yum whatprovides 反查命令在哪个安装包中, 例如查看automake是哪个安装包的。
yum whatprovides automake  # 然后得到automake-1.13.4-3.el7.noarch 

```



**安装常识**

在Linux下安装一个应用程序时，
一般先运行脚本configure，
然后用make来编译源程序，
再运行make install，
最后运行make clean删除一些临时文件。



安装automake, libtool, make, gcc, pkg-config 

```shell
yum install automake-1.13.4-3.el7.noarch 
yum install libtool-2.4.2-22.el7_3.x86_64
yum install make-3.82-24.el7.x86_64
yum install gcc-4.8.5-44.el7.x86_64
yum install pkgconfig-0.27.1-4.el7.x86_64
```

安装后尝试运行检查是否安装成功

```shell
automake --verison
libtool  --verison
make  --verison
gcc --verison
pkg-config  --verison
```

发现automake命令报错，其他命令没报错
automake 报错： Can't locate Carp.pm in @INC (@INC contains: /usr/share/automake-1.13

```java
1.输入命令：wget http://ftp.gnu.org/gnu/automake/automake-1.14.1.tar.gz下载autoconf安装包
2.解压缩automake-1.14.1.tar.gz ，输入命令：tar -zxvf automake-1.14.1.tar.gz -C /opt/
3.进入解压缩后的目录automake-1.14.1，输入命令：cd /opt/automake-1.14.1
4.输入命令：./bootstrap.sh
5.配置编译环境，输入命令：./configure
6.编译并安装automake，输入俩命令：make ;  make install
参考： https://blog.51cto.com/u_12877374/2866838
```

重新安装automake又报错：Can't locate Exporter.pm in @INC (@INC contains: /usr/local/lib64/perl5 

 https://stackoverflow.com/questions/21784492/cant-locate-module-build-pm-in-inc-inc-contains-usr-local-lib64-perl5

看样子是perl语言的依赖问题？

然后yum install cpan 发现cpan也报类似的错。 然后觉得perl有问题

发现perl的版本太老古董了，导致很多perl的包都没有.

```
wget https://www.cpan.org/src/5.0/perl-5.30.0.tar.gz
tar -xzf perl-5.30.0.tar.gz
cd perl-5.30.0
./Configure -des -Dprefix=/opt/perl -Dusethreads -Uinstalluserbinperl -Dcc=gcc
make # 很长时间。。。
make test # 时间更长。。。	有两个测试没通过，但是算了。。。
make install 
```

旧的perl修改链接 不建议删除，还是备份比较好 。

```shell
mv /usr/bin/perl /usr/bin/perl.bak
```

建立新的软连接

```shell
ln -s /opt/perl/bin /usr/bin/perl 
```

参考文档https://cloud.tencent.com/developer/article/1561814

然后又发现automake又报错： This Perl not built to support threads。 汗。。。-_-||

原因是之前执行的是./Configure -des -Dprefix=/opt/perl命令，这个是不对的！参考文档如下

https://blog.csdn.net/zzq900503/article/details/16948349

最后一个报错。。。。Unescaped left brace in regex is passed through in regex; marked by <-- HERE in m/\${ <-- HERE ([^ \t=:+{}]+)}/ at /usr/bin/automake line 3935.

https://www.cnblogs.com/zengjfgit/p/9178523.html

```perl
# 注释的为原代码，下面的为修改后的代码
# $text =~ s/\${([^ \t=:+{}]+)}/substitute_ac_subst_variables_worker ($1)/ge;
$text =~ s/\$[{]([^ \t=:+{}]+)}/substitute_ac_subst_variables_worker ($1)/ge;
```

终于正常了！





## github加速

修改hosts文件（修改不了，就复制hosts文件出来，修改后再覆盖回去）

https://gitee.com/doshengl/GitHub520#github520

github的代理地址在上面的gitee中

```powershell
# 刷新DNS解析缓存
ipconfig /flushdns  
```

